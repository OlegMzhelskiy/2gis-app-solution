# Пример решения задания Application design для 2ГИС

В коде представлен прототип сервиса бронирования номеров в отелях,
в котором реализована возможность забронировать свободный номер в отеле.

Сервис будет развиваться, например:

- появится отправка письма-подтверждения о бронировании
- появятся скидки, промокоды, программы лояльности
- появится возможность бронирования нескольких номеров

## Задание

Провести рефакторинг структуры и кода приложения, исправить существующие
проблемы в логике. Персистентное хранение реализовывать не требуется,
все данные храним в памяти сервиса.

В результате выполнения задания ожидается структурированный код сервиса,
с корректно работающей логикой сценариев бронирования номеров в отелях.

Чеклист:

- код реорганизован и выделены слои
- выделены абстракций и интерфейсы
- техническе и логические ошибки исправлены

Ограничения:

- ожидаем реализацию, которая управляет состоянием в памяти приложения,
 но которую легко заменить на внешнее хранилище
- если у тебя есть опыт с Go: для решения надо использовать только
 стандартную библиотеку Go + роутер (например chi)
- если у тебя нет опыта с Go: можно реализовать решение на своем
 любимом стеке технологий

## Запуск 

```sh
go run main.go
```

Создание заказа:
```sh
curl --location --request POST 'localhost:8080/orders' \
--header 'Content-Type: application/json' \
--data-raw '{
    "id": "111-111-111",
    "user_id": 1,
    "booking": [
        {
            "hotel_id": 1,
            "room_type": "single",
            "from": "2025-02-01",
            "to": "2025-02-02",
            "room_count": 1
        }
    ]
}'
```

Получение заказа:
```sh
curl http:/localhost:8080/orders/1
```

Добавление доступности номеров:
```sh
curl --location --request POST 'localhost:8080/hotels/availability' \
--header 'Content-Type: application/json' \
--data-raw '{
    "hotel_id": 1,
    "room_type": "single",
    "date": "2025-02-01",    
    "room_count": 3
}'
```